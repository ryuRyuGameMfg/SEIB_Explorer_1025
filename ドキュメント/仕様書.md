# SEIB Explorer UI/UX 改善仕様書

## ⚠️ 最重要ルール：プログラミングファイルの編集禁止

**本依頼において、プログラミングファイル（`.cs`、`.js`、`.shader`など）の編集・変更・削除は一切禁止です。**

詳細は「🚫 絶対に編集禁止のファイル・作業（最重要）」セクションを必ず確認してください。

---

## 📌 依頼概要

### プロジェクト背景
学術と展示用途のソフトウェアをUnityで制作しています。

**参考リンク：**
- 動作イメージ動画：https://youtu.be/HkErZIfPTWg
- オンライン実行版（参考）：
  - https://seib-dgvm.com/test_run/DistiruteWeb_1.51a
  - https://seib-dgvm.com/test_run/DistiruteWeb_1.51b
  - https://seib-dgvm.com/test_run/DistiruteWeb_1.51c
- ダウンロードページ：https://seib-dgvm.com/en/?page_id=40

### 依頼内容
ソフトウェアの基本機能は実装済みで、今回は「**全体の印象を洗練させ、学術用途と展示用途の両立を図る**」ためのUIデザイン改善をお願いします。

対象はソフトウェア全体です。以下の観点で、スタイリッシュかつ使いやすいUIを整えていただければ幸いです。

---

## 📍 編集対象シーンの指定状況

### 確認結果

**依頼者による編集対象シーンの明示的な指定：なし**

仕様書内で確認した結果、以下の通りです：

#### 記載されていること
- 「対象はソフトウェア全体です」（19行目）
- 「Unityプロジェクトの確認」（543行目）
- 「8つのパネルシステム」の列挙（138-145行目）

#### 記載されていないこと
- 具体的なシーン名（Main.unity、Setting.unity、Legend.unityなど）
- どのシーンを編集するかの指定
- 各シーンの役割や編集範囲の説明

### 結論

**編集対象シーンは依頼者によって明示的に指定されていません。**

「ソフトウェア全体」という記載のみで、具体的なシーン名や編集範囲は指定されていません。デザイナーがUnityプロジェクトを確認して、UI要素が含まれるシーンを特定する必要があります。

---

## ✅ 本依頼で求められていること（重要）

### 作業範囲の明確化

**重要な理解事項：**
- **8つのパネルシステム（Simulation Info, Legend, Material Cycle, Carbon Cycle, Water Cycle, Atmospheric, Radiation Balance, Plant Properties）は既に完成しています**
- **今回の依頼は、既存の機能構造を維持したまま、表面上のUIデザインのみを置き換える作業です**
- **機能的な変更や新機能の追加は求められていません**

### 具体的に求められている作業

#### 1. 視覚的なデザインの改善のみ
- **既存のUI要素の見た目を変更**
  - ボタン、スライダー、メニュー、パネルなどのビジュアルデザイン
  - 色・フォント・レイアウトの調整
  - アイコンの追加・統一（必要に応じて）
  - アニメーション・トランジションの追加（任意・推奨）

- **機能的な変更は不要**
  - 既存のパネル構造はそのまま維持
  - 既存の操作方法はそのまま維持
  - 既存のデータ表示ロジックはそのまま維持

#### 2. コードの改変は基本的に不要
- **コードの改変は不要**（事前相談が必要な場合のみ）
- **インスペクタ上のパラメーター変更は相談無用**（自由に変更可能）
- **既存のスクリプトやコンポーネントの動作は変更しない**

#### 3. 基本的な動作は変更しない
- **ソフトウェアの基本動作に関わる部分は手を加えない**
- **既存の機能が正常に動作することを保証**

---

## 🚫 絶対に編集禁止のファイル・作業（最重要）

### ⚠️ プログラミングファイルの編集は一切禁止

**本依頼において、以下のファイル形式は絶対に編集・変更・削除してはいけません：**

#### 編集禁止ファイル形式
- **`.cs` ファイル（C#スクリプト）** - すべてのC#スクリプトファイル
- **`.js` ファイル（JavaScriptスクリプト）** - すべてのJavaScriptファイル
- **`.shader` ファイル** - シェーダーファイル
- **`.compute` ファイル** - コンピュートシェーダーファイル
- **その他すべてのプログラミング言語ファイル**

#### 編集禁止の具体例
- `Assets/Scripts/` ディレクトリ内のすべてのファイル
- `Assets/` 配下のすべての `.cs` ファイル
- 既存のスクリプトファイルの内容変更
- 新しいスクリプトファイルの作成
- スクリプトファイルの削除
- スクリプトファイルのリネーム
- スクリプト内のコードの修正・追加・削除

#### 許可される作業
- ✅ Unityエディタのインスペクタ上でのパラメーター変更（色、サイズ、位置など）
- ✅ シーンファイル（`.unity`）の編集（UI要素の配置、見た目の変更）
- ✅ プレハブファイル（`.prefab`）の編集（見た目の変更のみ）
- ✅ アセットファイル（画像、フォント、マテリアルなど）の追加・変更
- ✅ UI要素のビジュアルデザインの変更

#### なぜこのルールが重要か
- 既存の機能を壊さないため
- 納品後のメンテナンス性を保つため
- 予期しない動作変更を防ぐため
- コードレビューやデバッグの負担を避けるため

### 作業前の確認事項

作業を開始する前に、以下を必ず確認してください：

1. **編集しようとしているファイルの拡張子を確認**
   - `.cs`、`.js`、`.shader` などのプログラミングファイルは編集しない
2. **Unityエディタのインスペクタで変更できるか確認**
   - インスペクタで変更できる項目は、インスペクタ経由で変更する
3. **不明な場合は必ず依頼者に確認**
   - プログラミングファイルの編集が必要かどうか判断に迷った場合は、必ず事前に相談する

### まとめ：作業の本質

**✅ やること（必須）：**
- UI部品のビジュアルデザインの変更（見た目の改善）
- 配色・フォント・レイアウトの調整
- アイコンの追加・統一（必要に応じて）

**🔄 検討事項（任意・推奨）：**
- アニメーション・トランジションの追加（必須ではないが、デザインの洗練度向上のため推奨）

**❌ やらないこと：**
- **🚫 プログラミングファイル（`.cs`、`.js`、`.shader`など）の編集・変更・削除（絶対禁止）**
- 機能の追加・削除・変更
- パネル構造の変更
- 操作方法の変更
- データ表示ロジックの変更
- コードの機能的な改変（見た目調整に必要な最小限の変更は除く）

---

## 🎯 デザイン調整範囲

### 1. 配色とレイアウトの調整
- カラースキームの統一と改善
- レイアウトの最適化
- 視覚的階層の明確化

### 2. フォントや文字サイズ感の調整
- タイポグラフィの改善
- フォントサイズの階層化
- 読みやすさの向上

### 3. UI部品の再デザイン
- ボタン、スライダー、メニュー等の再デザイン
- アイコンの追加・統一（必要に応じて）
- アニメーション・トランジションの追加（任意・推奨）

---

## 🎨 デザイン方針

### 基本方針
- **学術用途に適したシンプルさをベース**にしつつ、**展示用途でも映える「クールで格好良い」仕上がり**
- **機能性を損なわないことを最優先**
- ソフトウェアの基本動作に関わる部分については、今回は手を加えないでください

### デザインの方向性
- クリーンでモダンなデザイン
- 科学的な正確性を保ちつつ、視覚的に魅力的
- 情報の階層化と視認性の向上
- 統一感のあるデザインシステム

---

## 💻 開発環境・納品条件

### 開発環境
- **Unity 2022.2.7f1**（より新しいバージョンにアップデートして頂いても構いません）

### 納品物
- **完全に編集されたUnityプロジェクト一式**

### 対応デバイス
- まずは**Windows版を前提**
- **WebGLやMac対応も検討**しているため、その際に大きな修正が不要となるようご配慮ください

### 制約事項
- **🚫 プログラミングファイル（`.cs`、`.js`、`.shader`など）の編集は一切禁止です（最重要）**
- **既存アセットやUI部品画像等を使用する場合は、著作権関係の問題をクリアしてください**
- **インスペクタ上のパラメーター変更などは相談無用です（自由に変更可能）**
- **納品後も私の側でメンテナンス可能な状態を維持できるよう、ご配慮をお願いします**

### 使用アセット
- **グラフ表示**：BitSplash Interactive社 Graph And Chart
- **木本の3Dモデル**：BSP社のAnimated Trees Packageシリーズ

---

## 📋 現状分析

### 1. ナビゲーション構造

#### 現在の構成
- **8つのパネルシステム**
  - Simulation Info
  - Legend
  - Material Cycle
  - Carbon Cycle
  - Water Cycle
  - Atmospheric
  - Radiation Balance
  - Plant Properties

#### 操作手段
- 左右矢印ボタン（循環切り替え）
- F1-F8キー（直接切り替え）
- パネルボタン（視覚的選択）

### 2. 主要機能とUI要素

#### シミュレーション実行機能（SEIBConnector）
- パラメータ入力（スライダー × 6種類）
- ファイル選択（CO2、気候データ）
- 実行/停止ボタン
- 進捗バー
- コンソールログ

#### 可視化機能
- 表示モード切り替え（Simplified/Realistic）
- 草表示モード（TreeOnly/TreeAndGrass/GrassOnly）
- 時間軸制御（Play/Pause/Replay）
- 年スライダー
- 時間範囲スライダー

#### データ表示
- グラフ表示（複数種類）
- フラックス値の数値表示
- 矢印による視覚化
- 単位表示

### 3. 現状の強み

✅ **多様なデータ表示**
- 炭素、水、放射、大気など包括的な情報表示

✅ **視覚的フィードバック**
- 効果音、アニメーション、色分け

✅ **ローカライゼーション対応**
- 日本語/英語対応

✅ **ヘルプシステム**
- 状況に応じたヘルプ表示

✅ **柔軟な表示モード**
- 簡略/リアル、木本/草本の切り替え

---

## 🎨 デザイン改善提案

### 1. 視覚的階層の明確化

#### カラースキームの統一
- プライマリカラー、セカンダリカラーの定義
- アクションカラー（実行、停止、警告など）の統一
- 学術用途に適した落ち着いた色調
- 展示用途でも映える「クールで格好良い」配色

#### タイポグラフィの改善
- 見出し、本文、キャプションの明確な区別
- フォントサイズの階層化
- 読みやすさを重視したフォント選択
- 学術的な正確性を保ちつつ、モダンな印象

### 2. アイコンの活用

#### パネルアイコンの追加
- 各パネルに直感的なアイコン
- 機能を視覚的に理解しやすく
- 統一感のあるアイコンスタイル

#### 操作アイコンの統一
- ボタンにアイコンを追加
- アイコンの意味を明確に
- 国際的に通用するアイコン使用

### 3. UI部品の再デザイン

#### ボタン
- クリック可能な要素であることが明確
- ホバー状態、アクティブ状態の視覚的フィードバック
- 学術用途に適した落ち着いたデザイン
- 展示用途でも映える洗練されたデザイン

#### スライダー
- 値を調整しやすいデザイン
- 現在値が明確に分かる
- モダンで使いやすいデザイン

#### メニュー・パネル
- 情報の階層が明確
- ナビゲーションが直感的
- モダンで洗練されたデザイン

### 4. アニメーションとトランジション

#### パネル切り替えのアニメーション
- スムーズなトランジション
- 方向性の明確化（左から、右からなど）
- 過度なアニメーションは避け、シンプルに

#### ローディング状態の表示
- データ読み込み中の明確な表示
- 進捗の可視化
- 学術用途に適したシンプルな表示

---

## 🎯 UI/UX改善提案（参考）

### 【優先度：高】即座に改善可能な項目

#### 1. ナビゲーションの改善

**問題点**
- パネルが8つあり、循環切り替えでは目的のパネルに到達しにくい
- パネル構造が明確でない

**提案**
- **パネル選択UIの改善**
  - タブバーまたはサイドメニューの追加
  - 現在表示中のパネルを視覚的に強調
  - パネル名のアイコン化

- **Breadcrumb（パンくずリスト）の追加**
  - 現在位置を明確に表示
  - クイックジャンプ機能

#### 2. 情報密度の最適化

**問題点**
- 一度に表示される情報が多すぎる可能性
- 重要な情報が見つけにくい

**提案**
- **段階的表示**
  - デフォルトで重要情報のみ表示
  - 「詳細を見る」ボタンで拡張表示

- **情報の階層化**
  - 概要 → 詳細 → 専門的詳細の3段階

- **折りたたみ可能なセクション**
  - 各項目を折りたたみ可能に

#### 3. キーボードショートカットの改善

**問題点**
- ショートカットが覚えにくい（F1-F8）
- ショートカットの表示がない

**提案**
- **ショートカット一覧の表示**
  - ヘルプメニューにショートカット一覧を追加
  - ESCキーでショートカット一覧を表示

- **より直感的なショートカット**
  - 例：数字キー（1-8）でパネル切り替え
  - Ctrl+数字でクイックアクセス

### 【優先度：中】中期的に改善すべき項目

#### 4. フロントエンド（シミュレーション設定）の改善

**問題点**
- パラメータ入力画面が複雑
- 入力値のバリデーションが不十分
- プリセットとカスタムの区別が不明確

**提案**
- **ウィザード形式の導入**
  - Step 1: 地点選択
  - Step 2: パラメータ設定
  - Step 3: 確認・実行

- **プリセットの視覚化**
  - 地点の地図表示
  - プリセットの説明追加

- **リアルタイムバリデーション**
  - 入力値の即座チェック
  - エラーメッセージの改善

- **設定の保存/読み込み**
  - 設定のエクスポート/インポート
  - よく使う設定の保存

#### 5. 可視化パネルの改善

**問題点**
- グラフの操作が限定的
- データの比較が困難

**提案**
- **インタラクティブなグラフ**
  - ホバーで詳細情報表示
  - ズーム/パン機能
  - データポイントの選択

- **複数データの比較**
  - 複数年を同時表示
  - 期間選択機能の強化

- **エクスポート機能**
  - グラフの画像エクスポート
  - データのCSVエクスポート

#### 6. 3Dビューアの改善

**問題点**
- カメラ操作が直感的でない可能性
- 表示オプションの説明が不足

**提案**
- **カメラ操作の改善**
  - マウス操作の説明表示
  - リセットボタンの追加
  - プリセット視点の追加

- **レイヤー表示の改善**
  - レイヤーのオン/オフを視覚的に表示
  - レイヤーの説明追加

### 【優先度：低】長期的に検討すべき項目

#### 7. チュートリアルシステム

**提案**
- **初回起動時のチュートリアル**
  - 主要機能の説明
  - インタラクティブなガイド

- **コンテキストヘルプ**
  - 各UI要素にヘルプアイコン
  - ツールチップの充実

#### 8. レスポンシブデザイン

**提案**
- **ウィンドウサイズへの対応**
  - UI要素の自動調整
  - 最小サイズの設定

- **複数解像度対応**
  - 高DPI対応
  - 異なるアスペクト比への対応

#### 9. アクセシビリティ

**提案**
- **カラーコントラストの改善**
  - WCAG準拠
  - カラーユーザー対応

- **フォントサイズの調整**
  - ユーザー設定可能なフォントサイズ
  - 読みやすさの向上

---

## 📝 UX改善の提案について

UI改善後、もしUX面でさらに向上できるアイデアがあれば、ぜひご提案ください。

UI改善版の納品後、別案件として追加発注を検討いたします。

---

## 📊 ユーザビリティテストの提案

### テスト項目

1. **ナビゲーション**
   - 目的のパネルに到達できるか
   - パネル切り替えが直感的か

2. **情報の理解**
   - 表示されている情報を理解できるか
   - グラフや数値の意味が分かるか

3. **操作の効率性**
   - よく使う機能にすぐアクセスできるか
   - 作業フローがスムーズか

4. **エラーハンドリング**
   - エラーメッセージが分かりやすいか
   - 問題解決の手順が明確か

---

## 🚀 実装優先順位

### Phase 1（即座に実装可能）
1. ショートカットヘルプの追加
2. パネル選択UIの改善
3. エラーメッセージの改善

### Phase 2（中期的実装）
1. ウィザード形式の導入
2. インタラクティブグラフの実装
3. 設定の保存/読み込み

### Phase 3（長期的実装）
1. チュートリアルシステム
2. アクセシビリティ改善
3. レスポンシブデザイン

---

## 💡 具体的な実装例（参考：コード編集は禁止）

**⚠️ 注意：以下のコード例は参考として記載されていますが、本依頼ではプログラミングファイル（`.cs`など）の編集は一切禁止です。**

これらの例は、将来的なUX改善の参考として記載されているものであり、今回のUIデザイン改善作業では実装しません。

### 例1: パネル選択UIの改善

```csharp
// UImanager.csに追加
[SerializeField] GameObject panelSelectorPanel;
[SerializeField] Transform panelButtonContainer;
[SerializeField] GameObject panelButtonPrefab;

public void InitializePanelSelector()
{
    // 各パネル用のボタンを動的に生成
    for (int i = 0; i < panelCount; i++)
    {
        GameObject button = Instantiate(panelButtonPrefab, panelButtonContainer);
        // パネル名、アイコン、説明を設定
        button.GetComponent<Button>().onClick.AddListener(() => OnClick_Button(i));
    }
}
```

### 例2: ショートカットヘルプの追加

```csharp
[SerializeField] GameObject shortcutHelpPanel;
[SerializeField] Transform shortcutList;

public void ShowShortcutHelp()
{
    shortcutHelpPanel.SetActive(true);
    // ショートカット一覧を表示
}

public void HideShortcutHelp()
{
    shortcutHelpPanel.SetActive(false);
}
```

### 例3: 設定の保存/読み込み

```csharp
[System.Serializable]
public class SimulationSettings
{
    public string site;
    public float temperature;
    public float precipitation;
    // ... その他の設定
}

public void SaveSettings(string filename)
{
    SimulationSettings settings = new SimulationSettings();
    // 現在の設定を取得
    string json = JsonUtility.ToJson(settings);
    File.WriteAllText(filename, json);
}

public void LoadSettings(string filename)
{
    string json = File.ReadAllText(filename);
    SimulationSettings settings = JsonUtility.FromJson<SimulationSettings>(json);
    // 設定を適用
}
```

---

## 🎓 成果発表時のクレジットについて

科学・工学分野での成果発表の際は、ご希望がある場合に謝辞にお名前を記載します。

本ソフトウェアをメディアアート系のコンペティションに出品する可能性があります。この場合もご希望があれば、お名前を謝辞に記載いたします。また、ご貢献の程度に応じて、クレジット表記も検討いたします。

---

## 📌 継続的な開発について

このソフトウェアは更に機能を追加していく計画がございます。

追加作業そのものは、私と別の外注者とで実施する予定ですが、デザインの再調整を別案件として追加発注できると有り難いです。そのため、継続依頼が可能な方を歓迎いたします。

---

## 📚 参考資料：ユーザーマニュアル・クイックスタートガイド

### 提供されているドキュメント

以下のPDFドキュメントが `ドキュメント/` フォルダに用意されています：

1. **SEIB Explorer Quick Start.pdf** - クイックスタートガイド（1ページ）
2. **SEIB Explorer Manual.pdf** - ユーザーマニュアル（4ページ、Ver 2.00以降対応・2025年10月27日版）

これらのドキュメントは、ソフトウェアの機能や操作方法を理解するための重要な参考資料です。

### クイックスタートガイドの主要情報

#### 入力ファイル
- `output_forest.txt`
- `output_VegStructure.txt`
- `output_for_viewer2.txt` (v3.13以降対応)

#### 表示モード
- **リアルモード**: ゲーム用アセットで樹木を表示し、視覚的な魅力を強調（教育・プレゼン向け）
- **シンプルモード**: モデルで仮定される円柱形状の樹木表示（学術利用向け）

#### カメラ操作
- **マウスドラッグ**: 視点位置の変更
- **マウスホイール**: 拡大・縮小

#### キーボードショートカット
- **矢印キー**: 視点位置の変更
- **PgUp / PgDn**: 拡大・縮小
- **A**: 言語切替
- **B**: リアル・シンプル表示切替
- **C**: 植生タイプ表示切替
- **< / >**: 左パネル項目切替
- **P / O**: 時間を進める・戻す
- **I / U**: 情報パネルの時間範囲を調整

### ユーザーマニュアルの主要情報

#### 概要
- Windows上で動作するアプリケーション
- SEIB-DGVMによってシミュレーションされた森林動態をインタラクティブに可視化
- モデルコア（SEIB-DGVM）を同梱し、ユーザーが指定した条件でシミュレーション実行可能

#### 可視化画面の機能
- 森林の発達に伴う炭素貯留量や水循環の変化を時系列グラフとして表示
- 各グラフに「？」ボタンが配置され、クリックすると簡単な解説が表示される
- 「リアル表示」オプション：臨場感や没入感を重視した表現（教育・プレゼンテーション用途）
- 「シンプル表示」オプション：モデルが仮定する樹木形状を忠実に描画（学術的利用向け）

#### 操作方法の概要

**A メニュー（Viewer モード）**
- ポップアップウィンドウで可視化するファイルを選択
- 入力ファイル：`output_forest.txt`、`output_VegStructure.txt`、`output_VegStructure2.txt`
- `output_forest.txt`以外のファイルを開いた場合、気象データや物質・エネルギー循環が表示される

**B メニュー（シミュレーション実行モード）**
- シミュレーション条件を設定し、Startボタンで実行
- 計算完了後、シミュレーション出力ファイルが生成され、可視化処理が自動実行
- シミュレーション地点の選択（ドロップダウンメニュー）
- "I_Specify_It"選択時：緯度・経度、CO₂時系列データ、気候時系列データをユーザー指定可能
- 気候条件および大気CO₂濃度に対する感度実験をスライダー操作で簡易実行可能

#### 可視化画面における操作方法

**視点操作**
- カメラの視線は常に仮想森林スタンドの中心を向いている
- マウスドラッグ：視点角度の変更
- マウスホイール：視点までの距離の調整

**キーボード操作**
- **矢印キー**: カメラを左右・上下に移動
- **PgUp / PgDn**: カメラを前進 / 後退
- **A**: 言語切替
- **B**: 「リアル表示」と「シンプル表示」の切替
- **C**: 植生タイプ表示切替（木本のみ → 木本＋草本 → 草本のみ）
- **<**: 左パネル内の項目を左に切替
- **>**: 左パネル内の項目を右に切替
- **P**: 時間を進める
- **O**: 時間を戻す
- **I**: 情報パネルに表示される時間範囲を拡大
- **U**: 情報パネルに表示される時間範囲を縮小
- **ESC**: メニュー選択画面に戻るかどうかを確認するダイアログボックスが表示

#### 仮想森林スタンドの表示モード

**シンプル表示モード**
- SEIB-DGVMでは、植物種を少数の「植物機能型（PFT）」に要約
- 木本植物は葉バイオマス・幹（粗根を含む）・細根の3つのバイオマス成分から構成
- 樹冠と幹を円柱形として表現
- 樹冠の色は、異なる植物機能型（PFT）の違いを表す

**リアル表示モード**
- 木本植物が、ゲーム開発向けに作成された3Dモデルで表示
- シミュレーションで扱われる実際の樹種を再現したものではない
- シミュレーション結果の視覚的魅力を高めるための機能

#### モデルコアについて
- メニューB選択時に実行されるシミュレーションは、`/External/SEIB.exe`によって行われる
- ソースコード（`.f90`ファイル群）およびパラメータファイル（`parameter.txt`）も同じフォルダ内に格納
- オリジナルは公開版のversion3.20
- Unityとの接続のために追加した部分には、コード中に`[For SEIB-Explorer]`とコメントを付与

### UI/UX改善への活用

これらのドキュメントは、以下の観点でUI/UX改善の参考資料として活用できます：

1. **操作性の理解**: 現在の操作方法を把握し、UI改善の方向性を決定
2. **機能の把握**: ソフトウェアの全機能を理解し、適切なUI設計を行う
3. **ユーザー体験の向上**: マニュアルに記載されている操作フローを考慮したUI設計
4. **視覚的階層の明確化**: 重要な機能と補助的な機能を区別し、UIの優先順位を決定

---

## 📝 次のステップ

1. **現状の確認**
   - Unityプロジェクトの確認
   - 現在のUI構造の把握

2. **デザインコンセプトの決定**
   - カラースキームの決定
   - タイポグラフィの決定
   - アイコンデザインの決定

3. **段階的な実装**
   - Phase 1から順次実装
   - 各フェーズでの評価と改善

4. **フィードバックと調整**
   - デザインの確認と調整
   - 最終的な調整

